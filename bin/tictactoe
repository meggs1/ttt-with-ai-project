#!/usr/bin/env ruby

require_relative '../config/environment'

puts "Welcome to Tic-Tac-Toe :)"

def game_type
    puts "Would you like to play with 0, 1 or 2 players?"
    input = gets.strip

    if input == "0"
        Game.new(Players::Computer.new("X"), Players::Computer.new("O"), Board.new).play
    elsif input == "1"
        Game.new(Players::Human.new("X"), Players::Computer.new("O"), Board.new).play
    elsif input == "2"
        Game.new(Players::Human.new("X"), Players::Human.new("O"), Board.new).play
    else
        puts "Invalid entry"
        game_type
    end
    loop_prompt
end

def loop_prompt
    puts "Would you like to play again? [y/ n]"
    input = gets.strip

    if input == "y"
        game_type 
    elsif input == "n"
        exit
    else
        puts "Invalid entry"
        loop_prompt
    end
end

game_type
